# ุณุณุชู ุฑุฒุฑูุงุณูู ุจููู

ุงู ูพุฑูฺู ฺฉ ุณุณุชู ุฑุฒุฑูุงุณูู RESTful ุจุง ฺฉุงุฑุง ุจุงูุง ุงุณุช ฺฉู ุจู ุนููุงู ุจุฎุด ุงุฒ ูุฑุขูุฏ ูุตุงุญุจู ูู ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ูุฏู ุงุตูุ ููุงุด ููุงุฑุชโูุง ูพุดุฑูุชู ุฏุฑ ุทุฑุงุญ ุณุณุชูุ ูุฏุฑุช ุชุฑุงฺฉูุดโูุงุ ุจูููโุณุงุฒ ุนููฺฉุฑุฏ ู ูุฏุฑุช ููุฒูุงู ุฏุฑ ฺฉ ูุญุท ูพุฑุชุฑุงูฺฉ ุงุณุช.

[![Java](https://img.shields.io/badge/Java-21-blue.svg)](https://www.java.com)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-blue.svg)](https://www.mysql.com)
[![Redis](https://img.shields.io/badge/Redis-6.x-red.svg)](https://redis.io)
[![Docker](https://img.shields.io/badge/Docker-Enabled-blue.svg)](https://www.docker.com)

## ๐ ูฺฺฏโูุง ุงุตู

* **ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงู:** ุซุจุชโูุงู ู ูุฑูุฏ ุงูู ฺฉุงุฑุจุฑุงู ุจุง ุงุณุชูุงุฏู ุงุฒ **JWT**.
* **ูุดุงูุฏู ุฒูุงูโูุง ุฎุงู:** ููุงุด ูุณุช ุฒูุงูโูุง ุขุฒุงุฏ ุจู ุตูุฑุช ุตูุญูโุจูุฏ ุดุฏู (Paginated) ุจุง ุณุฑุนุช ูพุงุณุฎโฺฏู ุจุณุงุฑ ุจุงูุง.
* **ุฑุฒุฑู ุฒูุงู:** ูุงุจูุช ุฑุฒุฑู ฺฉ ุงุณูุงุช ุฒูุงู ุจู ุตูุฑุช **Atomic** ุจุฑุง ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง ููุฒูุงู ู ุฌููฺฏุฑ ุงุฒ ุฑุฒุฑู ุชฺฉุฑุงุฑ (Race Condition).
* **ูุบู ุฑุฒุฑู:** ุงูฺฉุงู ูุบู ฺฉ ุฑุฒุฑู ุชูุณุท ฺฉุงุฑุจุฑุ ฺฉู ุจุงุนุซ ุขุฒุงุฏ ุดุฏู ูุฌุฏุฏ ุขู ุงุณูุงุช ูโุดูุฏ.
* **ูุณุชูุฏุงุช API:** ูุณุชูุฏุณุงุฒ ฺฉุงูู ุชูุงู Endpoint ูุง ุจุง ุงุณุชูุงุฏู ุงุฒ **Swagger (OpenAPI)**.

## ๐๏ธ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

* **ุฒุจุงู ู ูุฑููุฑฺฉ:** Java 21, Spring Boot 3
* **ูพุงฺฏุงู ุฏุงุฏู:** MySQL
* **ฺฉุด ุฏุฑ ุญุงูุธู:** Redis
* **ุงููุช:** Spring Security, JWT
* **ูุฏุฑุช ุฏุชุงุจุณ:** Flyway (ุจุฑุง Version-Controlled Schema Migration)
* **ุงุจุฒุงุฑูุง ฺฉูฺฉ:** Lombok, Maven, Docker
* **ูุณุชูุฏุณุงุฒ:** SpringDoc (Swagger UI)

##  ูุนูุงุฑ ู ุชุตููุงุช ฺฉูุฏ ุทุฑุงุญ

ุงู ูพุฑูฺู ุจุง ุชูุฑฺฉุฒ ุจุฑ ููุงุณโูพุฐุฑ ู ุนููฺฉุฑุฏ ุทุฑุงุญ ุดุฏู ุงุณุช.

### ฑ. ูุฏุฑุช ููุฒูุงู (Concurrency) ุจุง Redis & Lua

ุจุฒุฑฺฏุชุฑู ฺุงูุด ูพุฑูฺูุ ุฌููฺฏุฑ ุงุฒ ุฑุฒุฑู ฺฉ ุงุณูุงุช ุชูุณุท ฺูุฏ ฺฉุงุฑุจุฑ ุจู ุตูุฑุช ููุฒูุงู ุงุณุช. ุจุฑุง ุญู ุงู ูุดฺฉู ุงุฒ ฺฉ **ุงุณฺฉุฑูพุช Lua** ุฏุฑ ุณูุช Redis ุงุณุชูุงุฏู ุดุฏู ุงุณุช. ุงุณฺฉุฑูพุชโูุง Lua ุจู ุตูุฑุช **Atomic** ุฏุฑ Redis ุงุฌุฑุง ูโุดููุฏ. ุงู ุงุณฺฉุฑูพุช ุงุจุชุฏุง ฺฺฉ ูโฺฉูุฏ ฺฉู ุขุง ID ุงุณูุงุช ุฏุฑ ูุฌููุนู (ZSET) ุงุณูุงุชโูุง ุขุฒุงุฏ ูุฌูุฏ ุฏุงุฑุฏ ุง ุฎุฑ ู ุฏุฑ ุตูุฑุช ูุฌูุฏุ ุขู ุฑุง ุญุฐู ูโฺฉูุฏ. ุงู ุนููุงุช ุชุฑฺฉุจ (Check-then-act) ฺูู ุฏุฑ ฺฉ ูุฑูุงู ุงุฌุฑุง ูโุดูุฏุ ุงุฒ ูุฑฺฏููู Race Condition ุฌููฺฏุฑ ูโฺฉูุฏ.

### ฒ. ุจูููโุณุงุฒ ุนููฺฉุฑุฏ ุจุง Caching

ุจุฑุง ุฑุณุฏู ุจู ุฒูุงู ูพุงุณุฎฺฏู ุจุณุงุฑ ุณุฑุน ุจุฑุง API ูุณุช ุฒูุงูโูุง ุขุฒุงุฏ (`GET /api/v1/slots`):
* ุชูุงู ID ูุง ุงุณูุงุชโูุง ุขุฒุงุฏ ุฏุฑ ฺฉ **Redis Sorted Set (ZSET)** ุฐุฎุฑู ูโุดููุฏ. score ูุฑ ุนุถูุ ุฒูุงู ุดุฑูุน ุงุณูุงุช (timestamp) ุงุณุช ฺฉู ุงูฺฉุงู ูุฑุชุจโุณุงุฒ ู ุตูุญูโุจูุฏ ุณุฑุน ุฑุง ูุฑุงูู ูโฺฉูุฏ.
* **Cache Warming:** ุฏุฑ ุฒูุงู ุงุณุชุงุฑุช ุขูพ (`@PostConstruct`)ุ ฺฉุด ุจุง ุงุณูุงุชโูุง ููุฌูุฏ ูพุฑ ูโุดูุฏ ุชุง ุงููู ุฏุฑุฎูุงุณุช ุจุง ุชุงุฎุฑ ููุงุฌู ูุดูุฏ.
* **Cache Cleanup:** ฺฉ ูุธูู ุฒูุงูโุจูุฏ ุดุฏู (`@Scheduled`) ูุฑ ุดุจ ุงุฌุฑุง ูโุดูุฏ ุชุง ุงุณูุงุชโูุง ูููุถ ุดุฏู ุฑุง ุงุฒ ฺฉุด ูพุงฺฉ ฺฉูุฏ.
* **Cache Invalidation:** ููฺฏุงู ุฑุฒุฑู ุง ูุบูุ ฺฉุด ุจู ุตูุฑุช ูุญุธูโุง ู ุงุชูฺฉ ุขูพุฏุช ูโุดูุฏ (ID ุญุฐู ุง ุงุถุงูู ูโุดูุฏ).

### ณ. ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู ุจุง Flyway

ุชูุงู ุชุบุฑุงุช ุงุณฺฉูุง ุฏุชุงุจุณ (ุงุฌุงุฏ ุฌุฏุงููุ ุงูุฒูุฏู ุณุชููโูุง ู...) ุงุฒ ุทุฑู ุงุณฺฉุฑูพุชโูุง SQL ุฏุฑ **Flyway** ูุฏุฑุช ูโุดูุฏ. ุงู ฺฉุงุฑ ุชุถูู ูโฺฉูุฏ ฺฉู ูุถุนุช ุฏุชุงุจุณ ุฏุฑ ุชูุงู ูุญุทโูุง ฺฉุณุงู ู ูุงุจู ุฑุฏุงุจ ุจุงุดุฏ.

---

## ๐ ุฑุงูโุงูุฏุงุฒ ู ุงุฌุฑุง

ูพุฑูฺู ุจู ุทูุฑ ฺฉุงูู **Dockerized** ุดุฏู ุงุณุช ู ุจุฑุง ุงุฌุฑุง ุชููุง ุจู Docker ูุงุฒ ุฏุงุฑุฏ.

### ูพุดโูุงุฒูุง

* Docker & Docker Compose

### ูุฑุงุญู ุงุฌุฑุง

ฑ. **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:**
```bash
git clone <your-repository-url>
cd <project-directory>
```

ฒ. **ุณุงุฎุช ุงูุฌ ู ุงุฌุฑุง ุชูุงู ุณุฑูุณโูุง:**
ุชูุงู ุณุฑูุณโูุง ููุฑุฏ ูุงุฒ (ุงูพูฺฉุดูุ ุฏุชุงุจุณ MySQL ู ฺฉุด Redis) ุจุง ฺฉ ุฏุณุชูุฑ ุงุฒ ุทุฑู Docker Compose ุฑุงูโุงูุฏุงุฒ ูโุดููุฏ.
```bash
docker-compose up --build -d
```
* `--build`: ุงูุฌ ุฏุงฺฉุฑ ุงูพูฺฉุดู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ `Dockerfile` ูโุณุงุฒุฏ.
* `-d`: ุณุฑูุณโูุง ุฑุง ุฏุฑ ุญุงูุช detached (ุฏุฑ ูพุณโุฒููู) ุงุฌุฑุง ูโฺฉูุฏ.

ูพุณ ุงุฒ ฺูุฏ ูุญุธูุ ฺฉู ุณุณุชู ุขูุงุฏู ุจู ฺฉุงุฑ ุงุณุช! ุงูพูฺฉุดู ุฑู ูพูุฑุช `8083` ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ.

## ๐ ูุณุชูุฏุงุช API

ูพุณ ุงุฒ ุงุฌุฑุง ูพุฑูฺูุ ูุณุชูุฏุงุช ฺฉุงูู ู ุชุนุงูู API ุงุฒ ุทุฑู Swagger UI ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ูโุชูุงูุฏ ุชูุงู API ูุง ุฑุง ุงุฒ ููู ุตูุญู ุชุณุช ฺฉูุฏ:

**[http://localhost:8083/swagger-ui/index.html](http://localhost:8083/swagger-ui/index.html)**

### ุฎูุงุตู Endpoints

| Method   | Path                               | Description                      | Auth Required |
| :------- | :--------------------------------- | :------------------------------- | :-----------: |
| `POST`   | `/api/v1/authentication/signup`    | ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ               |      No       |
| `POST`   | `/api/v1/authentication/login`     | ูุฑูุฏ ฺฉุงุฑุจุฑ ู ุฏุฑุงูุช ุชูฺฉู JWT      |      No       |
| `GET`    | `/api/v1/slots`                    | ุฏุฑุงูุช ูุณุช ุฒูุงูโูุง ุขุฒุงุฏ       |      No       |
| `POST`   | `/api/v1/reservation`              | ุฑุฒุฑู ฺฉ ุงุณูุงุช ุฒูุงู              |      Yes      |
| `DELETE` | `/api/v1/reservation/{id}`         | ูุบู ฺฉ ุฑุฒุฑู                      |      Yes      |